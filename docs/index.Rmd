---
title: "Data Wrangling with R and the tidyverse"
description: |
  A Short Course using R and the Tidyverse suite of tools.
author:
- name: Kieran Healy
  url: https://kieranhealy.org
date: "`r Sys.Date()`"
output: distill::distill_article
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Practice exercises

- [Day 1]("day1.html")

# Course Description

R is a free and open-source package for statistical analysis that is widely used in the social, health, physical, and computational sciences. R is powerful, flexible, and has excellent graphics capabilities. It also has a large and rapidly growing community of users. Although there are a variety of approaches to working with data in R, in recent years, the "[tidyverse](https://www.tidyverse.org)" has emerged as a cohesive and consistent approach to the everyday tasks of data wrangling and analysis. The [tidyverse](https://www.tidyverse.org) is a suite of tools for data management, manipulation, analysis, and visualization within the R software environment for statistical computing. This seminar provides an intensive, hands-on introduction to using tidyverse tools for doing your own work. 

The course is not focused on particular statistical methods or modeling techniques. Rather, we will learn how to accomplish everyday tasks that statistical analysis depends on but which are rarely taught in detail in their own right. These include topics such as getting your own data into R, exploring the structure of your data, recoding variables and reshaping tables, and presenting summary tabulations and graphs of this work. Throughout the course we will emphasize how R and the tidyverse "thinks". Every dataset is different, especially at stage where it still needs further cleaning or arranging before it can be easily analyzed or effectively presented. This course will teach you the logic and implicit "flow of action" behind the tidyverse's tools, giving you the ability to apply and extend this way of thinking when working with your own data and its particular challenges. 

# Computing 

This remote seminar is held via [Zoom](https://zoom.us/), a free video conferencing application. Instructions for joining a session via Zoom are available [here](https://support.zoom.us/hc/en-us/articles/201362193-Joining-a-Meeting). Before the seminar begins, you will receive an email with the meeting code and password you must use to join.

We will be working with the most recent stable versions of R and RStudio, as well as with a number of additional packages. You will need to install R, RStudio, and the necessary packages on your own computer.

### Installing R and RStudio on your computer

- Begin by installing R (<http://cloud.r-project.org>). Choose the version appropriate for your computing platform: [macOS](https://cloud.r-project.org/bin/macosx/R-4.0.5.pkg), [Windows](https://cloud.r-project.org/bin/windows/base/R-4.0.5-win.exe), or [Linux](https://cloud.r-project.org/bin/linux/).
- Next, install RStudio (<http://rstudio.com>). Follow the links to download the [free RStudio Desktop edition](https://rstudio.com/products/rstudio/download/#download) recommended for your system.

### Installing some additional packages

- Once the applications are installed, launch RStudio. Either carefully type in or copy-and-paste the following lines of code at R’s command prompt, located in the RStudio window named “Console”, and then hit return. In the code below, the `<-` arrow is made up of two keystrokes, first `<` and then the short dash or minus symbol, `-`.


```R
my_packages <- c("tidyverse", "babynames", "broom", "drat", "gapminder",  
                  "here", "janitor", "naniar", "palmerpenguins", 
                  "skimr", "slider", "socviz", "usethis", "visdat", "reprex")

install.packages(my_packages, repos = "http://cran.rstudio.com")

data_packages <- c("covdata", "congress", "nycdogs", "ukelection2019", "uscenpops")

drat::addRepo("kjhealy")
install.packages(data_packages)
```

Installing these packages may take a little time. Once you have completed this step, you'll be ready to download the course packet and begin.

### Optional step: get set up on GitHub 

GitHub is a software development platform and service that is widely used by R Developers. You can [read some background on it from an R user's point of view here](https://happygitwithr.com/big-picture.html).

If you do not have one already, it will be useful to create a GitHub account and obtain a GitHub Personal Access Token. This is _not required_ for the course, but would be helpful to have. After you have installed R and RStudio, to get set up, read and _carefully follow_ the instructions here:

- Register a [GitHub Account](https://happygitwithr.com/github-acct.html)
- Install a [Git Client](https://happygitwithr.com/git-client.html)
- Connect to [GitHub](https://happygitwithr.com/push-pull-github.html)
- Get a [Personal Access Token](https://happygitwithr.com/credential-caching.html)

Again, setting up a GitHub account is _not required_ to fully participate in the course.



# The Course Packet

In addition to installing the software above, we will work with a packet of material that includes all the slides for the course, all the code we will write, and additional, relatively unprocessed or otherwise awkward datasets that we will use as examples. 


The course packet is available as a zip file at this link:

[Download the Data Wrangling Course Packet](https://github.com/kjhealy/data_wrangling/archive/refs/heads/master.zip)

_Notes:_ 

- The packet has a `README.md` file explaining what it contains.

- Once you have downloaded the packet, _make sure you uncompress the zip file into a folder_. Some versions of the Windows file manager allow you to browse the contents of a zip file without actually uncompressing it. For the packet to be useful, make sure it is uncompressed.

- There are still one or two files of additional slides and code to be added to the packet. I will update these during the course. However what is there now will not change.


# The Course Slack

During the seminar we will use a [Slack](https://slack.com) to provide an additional channel of communication outside the lectures. You will recieve details about how to sign up prior to the course. I encourage you to use the Slack to ask questions, share code snippets, and discuss matters arising in the seminar, from "I can't get this to work" troubleshooting on up to any other more general comments or queries about the material we are covering.

# Course Outline

-- Subject to change.

## 1. Overview and motivation

- Plain-text data analysis
- How R works and why it got that way
- The RStudio IDE and how it works
- Pipelining your code
- First examples

## 2. R and how it thinks

- Reproducible research with RMarkdown
- Making the IDE work for you
- What's "tidy" about the tidyverse?
- The nuts and bolts of R
- Pipelining your code
- Objects, functions, packages, environments
- The right frame of mind


## 3. Viewing, tabulating and summarizing data with `dplyr`

- Filtering, selecting, mutating, and summarizing a single table
- Groups and the logic of working with grouped data
- Calculating on the columns of a table, and on the rows
- Working `across()` columns
- Manipulating column names and arranging rows

## 4. Reshaping data with `tidyr`

- What's tidy about tidy data
- Moving back and forth between wide and long data
- Splitting, separating, and recoding observations
- Best practices before having to reshape
- Expanding and completing datasets

## 5. A brief introduction to regular expressions

- String manipulation and `stringr`
- The language of rexeps

## 6. Getting data into R with `readr` and `haven`, and cleaning it

- Reading in different plain-text formats
- Importing from Stata
- Importing multiple files using `map()` and its friends
- Cleaning awkward data (`tidyr` and `stringr` return)
- Managing and visualizing missing values
- Categorical data and `forcats`

## 7. Iterating on data with `dplyr`, `purrr`, and `broom`

- Reading in multiple data files
- Joining tables
- Extending tidy principles to models
- Fitting and summarizing model output

## 9. Making it easier to be tidy

- The `janitor` package
- Working with the `usethis` and `reprex` helper packages
- Documenting your data
- Using a package to store your data
- The wider world of tidyverse-friendly packages and tools
